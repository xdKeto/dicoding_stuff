(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{343:(e,t,n)=>{"use strict";n.d(t,{v:()=>s,x:()=>a});let a=()=>{if(window){let e=prompt("Masukkan URL Web Server:");e&&(e.startsWith("http://")||(e="http://".concat(e)),"/"!==e[e.length-1]&&(e+="/"),localStorage.setItem("BASE_URL",e),window.location.reload())}},s=()=>localStorage.getItem("BASE_URL")||""},3029:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=async(e,t)=>{let n=await fetch(e,t);if(!n.status.toString().startsWith("2")){let{message:e}=await n.json();throw Error(e)}return n.json()}},3411:e=>{e.exports={new_page:"New_new_page__JyHIa",new_page__content:"New_new_page__content__qA1Rr",new_page__header:"New_new_page__header__iKZRW",new_page__title:"New_new_page__title__GKNmN",new_page__tags:"New_new_page__tags__6ggKK",new_page__body:"New_new_page__body__mKK19",new_page__action:"New_new_page__action__lgZde",update_button:"New_update_button__uGC_G",delete_button:"New_delete_button__wfSGg"}},8058:e=>{e.exports={announce_bar:"AnnounceBar_announce_bar__NnxXn"}},8647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var a=n(7876),s=n(7328),i=n.n(s),_=n(4232),o=n(1055),h=n.n(o),l=n(3411),d=n.n(l),r=n(8856),c=n(343),g=n(3029);class w extends _.Component{handleTitleChange(e){let{target:t}=e;this.setState(e=>({...e,title:t.value}))}handleTagsChange(e){let{target:t}=e;this.setState(e=>({...e,tags:t.value.split(",").map(e=>e.trim()).filter(e=>""!==e)}))}handleBodyChange(e){let{target:t}=e;this.setState(e=>({...e,body:t.value}))}async handleSaveNote(){let{title:e,body:t,tags:n}=this.state;this.setState(e=>({...e,isFetching:!0}));try{await (0,g.A)("".concat((0,c.v)(),"notes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t,tags:n})}),window&&(window.location.href="/")}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}handleDiscardNote(){window&&(window.location.href="/")}render(){let{title:e,body:t,isFetching:n}=this.state;return(0,a.jsxs)("div",{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Add New Notes"})}),(0,a.jsx)(r.A,{}),(0,a.jsx)("main",{className:d().new_page,children:(0,a.jsxs)("section",{className:d().new_page__content,children:[(0,a.jsxs)("header",{className:d().new_page__header,children:[(0,a.jsx)("input",{className:d().new_page__title,value:e,onChange:this.handleTitleChange,type:"text",autoComplete:"off",placeholder:"Note title"}),(0,a.jsx)("input",{className:d().new_page__tags,placeholder:"Tag 1, Tag 2, Tag 3",type:"text",autoComplete:"off",onChange:this.handleTagsChange})]}),(0,a.jsx)(h(),{className:d().new_page__body,html:t,innerRef:this.contentEditable,disabled:!1,onChange:this.handleBodyChange}),(0,a.jsxs)("div",{className:d().new_page__action,children:[(0,a.jsx)("button",{disabled:n,className:d().update_button,type:"button",onClick:this.handleSaveNote,children:"Save Note"}),(0,a.jsx)("button",{className:d().delete_button,type:"button",onClick:this.handleDiscardNote,children:"Discard"})]})]})})]})}constructor(e){super(e),this.state={title:"",body:"",tags:[],isFetching:!1},this.contentEditable=_.createRef(),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.handleBodyChange=this.handleBodyChange.bind(this),this.handleSaveNote=this.handleSaveNote.bind(this)}}let p=w},8856:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(7876),s=n(4232),i=n(8230),_=n.n(i),o=n(8058),h=n.n(o),l=n(343);class d extends s.Component{componentDidMount(){this.setState({host:(0,l.v)()})}render(){let{host:e}=this.state;return(0,a.jsx)("div",{className:h().announce_bar,children:(0,a.jsxs)("p",{children:["Web Server API:"," ",(0,a.jsx)(_(),{href:e,target:"__blank",children:e})," ","|"," ",(0,a.jsx)("button",{type:"button",onClick:l.x,children:"Change URL"})]})})}constructor(e){super(e),this.state={host:"/"}}}let r=d},9252:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/new",function(){return n(8647)}])}},e=>{e.O(0,[230,890,636,593,792],()=>e(e.s=9252)),_N_E=e.O()}]);