(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{343:(e,t,a)=>{"use strict";a.d(t,{v:()=>s,x:()=>n});let n=()=>{if(window){let e=prompt("Masukkan URL Web Server:");e&&(e.startsWith("http://")||(e="http://".concat(e)),"/"!==e[e.length-1]&&(e+="/"),localStorage.setItem("BASE_URL",e),window.location.reload())}},s=()=>localStorage.getItem("BASE_URL")||""},905:e=>{e.exports={edit_page:"Edit_edit_page__NR5vO",edit_page__content:"Edit_edit_page__content__GqvZG",edit_page__header:"Edit_edit_page__header__5ccJq",edit_page__title:"Edit_edit_page__title__d6NbP",edit_page__tags:"Edit_edit_page__tags__pW6FJ",edit_page__body:"Edit_edit_page__body__hoaEJ",edit_page__action:"Edit_edit_page__action__OBB_v",update_button:"Edit_update_button__rA1HZ",delete_button:"Edit_delete_button__31hsv",error:"Edit_error__jbLcY"}},3029:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=async(e,t)=>{let a=await fetch(e,t);if(!a.status.toString().startsWith("2")){let{message:e}=await a.json();throw Error(e)}return a.json()}},4837:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSP:()=>x,default:()=>N});var n=a(7876),s=a(4232),i=a(7328),d=a.n(i),o=a(1055),h=a.n(o),r=a(8230),l=a.n(r),_=a(8856),c=a(905),p=a.n(c),g=a(343),u=a(3029);class b extends s.Component{async componentDidMount(){try{let{id:e}=this.props,{data:{note:t}}=await (0,u.A)("".concat((0,g.v)(),"notes/").concat(e)),{title:a,body:n,tags:s}=t;this.setState(e=>({...e,note:t,title:a,body:n,tags:s}))}catch(e){this.setState(e=>({...e,isError:!0}))}}handleTitleChange(e){let{target:t}=e;this.setState(e=>({...e,title:t.value}))}handleTagsChange(e){let{target:t}=e;this.setState(e=>({...e,tags:t.value.split(",").map(e=>e.trim()).filter(e=>""!==e)}))}handleBodyChange(e){let{target:t}=e;this.setState(e=>({...e,body:t.value}))}async handleUpdateNote(){let{title:e,body:t,tags:a}=this.state,{id:n}=this.props;this.setState(e=>({...e,isFetching:!0}));try{await (0,u.A)("".concat((0,g.v)(),"notes/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,body:t,tags:a})}),window&&(window.location.href="/notes/".concat(n))}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}async handleDeleteNote(){let{id:e}=this.props;try{await (0,u.A)("".concat((0,g.v)(),"notes/").concat(e),{method:"DELETE"}),window&&(window.location.href="/")}catch(e){window&&alert(e.message),this.setState(e=>({...e,isFetching:!1}))}}renderError(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(d(),{children:(0,n.jsx)("title",{children:"Notes - Not Found"})}),(0,n.jsx)(_.A,{}),(0,n.jsxs)("main",{className:p().error,children:[(0,n.jsx)("p",{children:"Error displaying notes! Make sure you have done with the back-end or correct url."}),(0,n.jsx)(l(),{href:"/",children:"Back to Home"})]})]})}renderSuccess(){let{title:e,body:t,isFetching:a,tags:s}=this.state;return(0,n.jsxs)("div",{children:[(0,n.jsx)(d(),{children:(0,n.jsxs)("title",{children:["Edit -"," ",e]})}),(0,n.jsx)(_.A,{}),(0,n.jsx)("main",{className:p().edit_page,children:(0,n.jsxs)("section",{className:p().edit_page__content,children:[(0,n.jsxs)("header",{className:p().edit_page__header,children:[(0,n.jsx)("input",{className:p().edit_page__title,value:e,onChange:this.handleTitleChange,type:"text",autoComplete:"off",placeholder:"Note title"}),(0,n.jsx)("input",{className:p().edit_page__tags,placeholder:"Tag 1, Tag 2, Tag 3",defaultValue:s.join(", "),type:"text",autoComplete:"off",onChange:this.handleTagsChange})]}),(0,n.jsx)(h(),{className:p().edit_page__body,html:t,innerRef:this.contentEditable,disabled:!1,onChange:this.handleBodyChange}),(0,n.jsxs)("div",{className:p().edit_page__action,children:[(0,n.jsx)("button",{disabled:a,className:p().update_button,type:"button",onClick:this.handleUpdateNote,children:"Save Note"}),(0,n.jsx)("button",{className:p().delete_button,type:"button",onClick:this.handleDeleteNote,children:"Delete Note"})]})]})})]})}render(){let{isError:e,note:t}=this.state;return e?this.renderError():t?this.renderSuccess():(0,n.jsx)(n.Fragment,{})}constructor(e){super(e),this.state={title:"",body:"",tags:[],isFetching:!1,isError:!1,note:null},this.contentEditable=s.createRef(),this.handleTitleChange=this.handleTitleChange.bind(this),this.handleTagsChange=this.handleTagsChange.bind(this),this.handleBodyChange=this.handleBodyChange.bind(this),this.handleUpdateNote=this.handleUpdateNote.bind(this),this.handleDeleteNote=this.handleDeleteNote.bind(this)}}var x=!0;let N=b},8058:e=>{e.exports={announce_bar:"AnnounceBar_announce_bar__NnxXn"}},8780:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/[id]/edit",function(){return a(4837)}])},8856:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var n=a(7876),s=a(4232),i=a(8230),d=a.n(i),o=a(8058),h=a.n(o),r=a(343);class l extends s.Component{componentDidMount(){this.setState({host:(0,r.v)()})}render(){let{host:e}=this.state;return(0,n.jsx)("div",{className:h().announce_bar,children:(0,n.jsxs)("p",{children:["Web Server API:"," ",(0,n.jsx)(d(),{href:e,target:"__blank",children:e})," ","|"," ",(0,n.jsx)("button",{type:"button",onClick:r.x,children:"Change URL"})]})})}constructor(e){super(e),this.state={host:"/"}}}let _=l}},e=>{e.O(0,[230,890,636,593,792],()=>e(e.s=8780)),_N_E=e.O()}]);